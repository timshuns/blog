<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head th:replace="admin/_fragments-admin :: head"></head>

<body class="no-skin">
	<!-- 上方功能列 -->
	<th:block th:replace="admin/_fragments-admin :: navbar"></th:block>
	<div class="main-container ace-save-state" id="main-container">
		<!-- 左側選單 -->
		<th:block th:replace="admin/_fragments-admin :: sidebar"></th:block>
		<div class="main-content">
			<div class="main-content-inner">
				<!-- 麵包屑 -->
				<th:block th:replace="admin/_fragments-admin :: breadcrumb"></th:block>
				<!-- 標題 -->
				<div class="page-content">
					<div class="page-header">
						<h1>
							管理
							<small>
								<i class="ace-icon fa fa-angle-double-right"></i>
								文章管理
							</small>
						</h1>
					</div>
					<!-- 內容 -->
					<div class="row">
						<div class="col-xs-12">
							<!-- PAGE CONTENT BEGINS -->
							<div class="row">
								<div class="col-xs-12">
									<table id="simple-table" class="table  table-bordered table-hover">
										<thead>
											<tr>
												<th class="center"></th>
												<th class="center">標題</th>
												<th class="center">分類</th>
												<th class="center">發佈</th>
												<th class="center">點閱數</th>
												<th class="center">建立日期</th>
												<th>
													<a class="btn btn-xs btn-success"th:href="@{/admin/blogs/createPage}">
														<i class="ace-icon glyphicon glyphicon-plus bigger-120"></i>
													</a>
												</th>
											</tr>
										</thead>
										<tbody>
											<th:block th:if="${pages != null}">
												<tr th:each="blog,status : ${pages.records}">
													<td class="center" th:text="${status.count}"></td>
													<td class="center" th:id="'name_'+${blog.id}"
														th:text="${blog.title}" />
													<td class="center" th:id="'name_'+${blog.id}"
														th:text="${blog.typeId}" />
													<td class="center hidden-480">
														<span class="label label-sm"
															th:classappend="${blog.published} ? label-primary : label-warning"
															th:text="${blog.published?'是':'否'}"
															th:id="'status_'+${blog.id}"></span>
													</td>
													<td class="center" th:id="'name_'+${blog.id}"
														th:text="${blog.views}" />
													<td class="center" th:id="'name_'+${blog.id}"
														th:text="${#dates.format(blog.createTime, 'yyyy-MM-dd HH:mm')}" />
													<td>
														<div class="btn-group">
															<button class="btn btn-xs btn-info"
																th:onclick="'updateForm('+${blog.id}+')'">
																<i class="ace-icon fa fa-pencil bigger-120"></i>
															</button>
															<button class="btn btn-xs btn-danger"
																th:onclick="'deleteForm('+${blog.id}+')'">
																<i class="ace-icon fa fa-trash-o bigger-120"></i>
															</button>
														</div>
													</td>
												</tr>
											</th:block>
											<th:block th:if="${pages == null}">
												<tr>
													<td class="center" colspan="4" th:text="尚無資料"></td>
												</tr>
											</th:block>
										</tbody>
									</table>
								</div>
								<!-- /.span -->
							</div>
							<th:block th:if="${pages != null}">
								<div class=" text-center">
									<ul class="pagination">
										<li th:classappend="${pages.hasPrevious()} ? '' : 'disabled'">
											<a th:href="@{/admin/types/index(pageNumber=1)}">
												<i class="ace-icon fa fa-angle-double-left"></i>
											</a>
										</li>
										<li th:classappend="${pages.hasPrevious()} ? '' : 'disabled'">
											<a
												th:href="@{/admin/types/index(pageNumber=${pages.hasPrevious()?(pages.current-1):pages.current})}">
												<i class="ace-icon fa fa-angle-left"></i>
											</a>
										</li>
										<th:block th:each="pageNumber : ${pageNumbers}">
											<li th:classappend="${pageNumber eq pages.current} ? active : ''">
												<a
													th:href="@{/admin/types/index(pageNumber=${pageNumber})}">[[${pageNumber}]]</a>
											</li>
										</th:block>
										<li th:classappend="${pages.hasNext()} ? '' : 'disabled'">
											<a th:href="@{/admin/types/index(pageNumber=${pages.hasNext()
											?(pages.current+1):pages.current})}">
												<i class="ace-icon fa fa-angle-right"></i>
											</a>
										</li>
										<li th:classappend="${pages.hasNext()} ? '' : 'disabled'">
											<a th:href="@{/admin/types/index(pageNumber=${pages.pages})}">
												<i class="ace-icon fa fa-angle-double-right"></i>
											</a>
										</li>
									</ul>
								</div>
							</th:block>
							<!-- /.row -->
							<div class="hr hr-18 dotted hr-double"></div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<script type="text/javascript">
		function updateForm(id){
			location.href = '[[@{/admin/blogs/updatePage/}]]'+id;
		}
	</script>
	<th:block th:replace="admin/_fragments-admin :: script"></th:block>
</body>


</html>